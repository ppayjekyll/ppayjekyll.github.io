---
# Feel free to add content and custom Front Matter to this file.
# To modify the layout, see https://jekyllrb.com/docs/themes/#overriding-theme-defaults

layout: home
---
# Оглавление
**[Общая информация](#title1)**  

[Как внести средства на платформу?](#title2)

[Какой курс валют мы используем?](#title3)   

[Flow процессинга](#title4)  

[Аббревиатура](#title5)  

**[Профиль](#title6)**

[Навигация в профиле](#title7)

**[Все платежи](#title8)**

[Экспорт платежей в Excel](#title9)

[Информация о платеже](#title10)

[Как оспорить платеж?](#title11)

**[Создать оплату](#title12)**

[Процесс создания платежа](#title13)

**[Запросы баланса](#title14)**

[Создание запроса на депозит](#title15)

[Создание запроса на вывод](#title16)

[Информация о заявке](#title17)

**[Телеграм бот](#title18)**

[Активация телеграм бота](#title19)

**[Арбитражи по чеку](#title20)**

**[Менеджеры](#title21)**

[Описание раздела](#title22)

[Создание менеджера](#title23)

**[API](#title24)**

[Общие методы](#title25)

[Платежи - H2H (Оплата на стороне магазина)](#title26)

[Платежные методы](#title27)

[Платежи - HPP (оплата с переходом по ссылке на наш сайт)](#title28)

[Платежи - H2H, HPP)](#title29)

 --- 

# <a id="title1">Общая информация</a>

Мы используем токен Tether “USDT (TRC20)” функционирующий на блокчейне “Tron”. 

*Если у вас фиатный баланс на платформе, то вам необходимо написать нам в чат (в поддержку), для обсуждения процесса вывода средств. Вывод происходит по оговоренным между нами условиям.*

 --- 
## <a id="title2">Как внести средства на платформу?</a>

Для начала работы (См. [Запросы баланса](#title14)).

 --- 

## <a id="title3">Какой курс валют мы используем?</a>

В нашей системе курсы валют собираются несколько раз в 10 минут - для всех гео курсы берутся с “Binance P2P”, “Bybit”. 
Пример просмотра курса валюты с помощью API. (См. [Платежные методы](#title27)).

Обратите внимание на то, как пишутся национальные валюты и платёжные системы:  
- Пример национальных валют: RUB, UZS, TJS, IDR и т.д.
- Пример платёжных систем: Sberbank, Tinkoff, Raiffeisen, СБП, AlfaBank, HUMO и т.д.

 --- 

## <a id="title4">Flow процессинга</a>

У нас на платформе платёж можно создать через H2H интеграцию, через HPP или вручную.

Если вы хотите протестировать процесс и понять как все работает не используя реальных средств, то вы можете использовать для этого "Тестовое окружение". При подключении предоставляется тестовый домен. (Авторизационные данные можно получить у руководителя сервиса или администратора).  
Инструкция по оплате (См. [Процесс создания платежа](#title13)).

 --- 

## <a id="title5">Аббревиатура</a>  
ЛКМ - подразумевается, нажатие левой кнопки мыши.

ПКМ - подразумевается, нажатие правой кнопки мыши.

 --- 

# <a id="title6">Профиль</a>

## <a id="title7">Навигация в профиле</a>

Разделы (Рис. 1)

“Баланс” - который изменяется при снятии или внесении валюты, USDT* (Рис. 2)  
“Заморожено“ - сколько средств заблокировано и недоступно к выводу, USDT* (Рис. 2)

“Техническое название пользователя” (Рис. 3)

“Роль” под которой выполнен вход (Рис. 4)

“Email” (Рис. 5)

Иконка человека (Рис. 6) отвечает за профиль, при нажатии на который открываются настройки.

В настройках профиля отображаются следующие поля (Рис. 7):  
- **Техническое название пользователя** - имеет обычное текстовое поле. 
- Кнопка **"Обновить"** - служит для обновления тех. названия мерчанта. При заполнении поля “Техническое название пользователя” и нажатии “Обновить“, название обновляется;
- **Часовой пояс** - имеет поле с выпадающим списком. Чтобы изменить часовой пояс для этого, достаточно выбрать из списка нужный город и часовой пояс автоматически сохранится.
- **API-ключ** - нужен для авторизации в API-документации, ссылка: [Swagger](https://ppsand.esokolov.com/api-docs/index.html); 

Чтобы выйти из аккаунта, достаточно нажать на иконку (Рис. 8) 

 --- 

# <a id="title8">Все платежи</a>

При открытии раздела, открывается вкладка с статистикой “За сегодня“, “За всё время“, вкладка с фильтрами и списком всех платежей (Рис. 1).

Чтобы отсортировать список платежей:

Шаг 1. Заполнить интересующие поля (Рис. 2).

Шаг 2. ЛКМ “Применить” (Рис. 3). Список отсортирован по заданным параметрам (Рис. 4).

При нажатии на “Сброс“ (Рис. 5) фильтры сбрасываются. При обновлении страницы - фильтры не сбрасываются, но если зайти в другой раздел и вернуться - фильтры сбрасываются.

 --- 

## <a id="title9">Экспорт платежей в Excel</a>

*Предусловие: сбросить фильтры, после этого экспортировать файл.*

Шаг 1. ЛКМ “Экспорт в Excel“ (Рис. 6). Файл начнет скачиваться.

Шаг 2. Открыть файл в загрузках (Рис. 7). Формат файла: табличный “.xlsx”.

 --- 

## <a id="title10">Информация о платеже</a>

ЛКМ на “ID“ (Рис. 8). Откроется вкладка “Данные платежа“.

Статус платежа отображается в верхнем-левом углу (Рис. 9). В данном случае статус “Отменён“.

В поле “Чат” можно оставить сообщение (Рис. 10).

ЛКМ “Причина отмены“ (Рис. 11) → в выпадающем списке можно выбрать:

- Отменено клиентом;
- Задублированный платеж;
- Попытка мошенничества;
- Переведенная клиентом сумма не соответствует запрошенной;
- Сумма не поступила.

ЛКМ “Галочка“ (Рис. 12) → Причина отмены сохранена в системе.

 --- 

### <a id="title11">Как оспорить платеж?</a>

*Предусловие: Зайти в “Данные платежа”. (См. [Информация о платеже](#title10))*

Шаг 1. ЛКМ “Выберите причину арбитража*“ (Рис. 13) → в выпадающем списке можно выбрать:
- Проверка по чеку;
- Перевели неверную сумму, проверить по чеку.

Шаг 2. ЛКМ “Загрузите чек*“ (Рис. 14) → в открытой папке выберите нужный скриншот или картинку которая находится на вашем ПК (Поддерживаемые форматы: “pdf“, “jpg“, “png“).

Шаг 3. ЛКМ “На арбитраж” (Рис. 15). Появляются новые статусы у платежа: “На арбитраже“ и “Причина арбитража“ (Рис. 16).

 --- 

# <a id="title12">Создать оплату</a>

## <a id="title13">Процесс создания платежа</a>

Шаг 1. Авторизация в системе под ролью “Мерчант“.

Шаг 2. Перейти во вкладку “Создать оплату“ (Рис. 1).

Шаг 3. Заполнить все обязательные поля (Обозначаются красной звездочкой “Рис. 2“), такие как “Номер заказа“, “Сумма“, “Валюта оплаты“, “Ссылка“. Здесь задаются данные для оплаты.

- **Номер заказа (external_order_id)** - это ваш ID, в вашей внутренней системе (это может быть: номер/численно-буквенная последовательность). Номер заказа позволяет вам легче найти платёж в нашей системе - это сделано для вашего удобства.
- __Сумма (national_currency_amount)__ - это та сумма, которую увидит ваш клиент внутри формы (формы при HPP).
- __Валюта оплаты (national_currency)__ - это та валюта, в которой будет платить ваш клиент. Клиенту будут отображаться платёжные методы, которые доступны при платежах в этой валюте.
- __Язык оплаты (locale)__ - у поддержки платформы можно попросить настроить нужные для отображения языки оплаты.

Шаг 4. ЛКМ “Сохранить“ (Рис. 3). Открывается окно “Данные ссылки на внесение средств“ с ссылкой (Рис. 4).

Шаг 5. ЛКМ на иконку “Копирование“ (Рис. 5)

Шаг 6. Вставить ссылку в браузер. Рекомендуем переходить по ссылке в режиме “Инкогнито” в браузере (Чтобы снять авторизацию в системе “PPay”).

В режим “Инкогнито“ в браузере можно зайти: нажав на горячие клавиши “CTRL + SHIFT + N“ ИЛИ нажать на троеточие (Google Chrome) и выбрать “Новое окно в режиме инкогнито“ (Рис. 6).

После того как перешли по ссылке, появляется окно оплаты (Рис. 7). Если отсканировать QR-код, то можно продолжить процесс с телефона (Рис. 8). Чтобы отменить платеж, достаточно нажать на “Отменить платеж“ (Рис. 9).

Шаг 7. Выбрать платежную систему. 

Шаг 8. ЛКМ “Подтвердить“ (Рис. 10).

Далее, открывается окно (Рис. 11). Время, за которое нужно успеть выполнить перевод, по стандарту “20:00 минут“ (Рис. 12).

Шаг 9. Выполнить перевод по предложенной карте.

Шаг 10. ЛКМ “Оплата завершена”. После чего, открывается окно с обработкой платежа “Рис. 13“.

Шаг 11. Оператор должен подтвердить оплату. Как только “Оператор” подтвердит оплату, страница с оплатой меняет статус “Идёт обработка” → “Успешно“ (Рис. 14).

 --- 

# <a id="title14">Запросы баланса</a>
## <a id="title15">Создание запроса на депозит</a>

*Предусловие. Активировать телеграм бота ([Активация телеграм бота](#title19)).*

Шаг 1. Авторизоваться с ролью “Мерчант“.

Шаг 2. ЛКМ “Запросы баланса“ (Рис. 1) → открывается вкладка “Запросы баланса”.

Шаг 3. ЛКМ “Создать запрос“ (Рис. 2)

Шаг 4. В поле “Тип“ выбрать “Внесение“, заполнить поле “Сумма“ (Рис. 3).

Шаг 5. ЛКМ “Сохранить“. Открывается вкладка “Запрос баланса“ (Рис. 4). В телеграм должно придти уведомление о новом запросе (Рис. 5). Перейдя по ссылке в сообщении, открывается “Запрос баланса“(Рис. 4).

 --- 

## <a id="title16">Создание запроса на вывод</a>
*Предусловие. Активировать телеграм бота ([Активация телеграм бота](#title19)).*

Шаг 1. Авторизоваться с ролью “Оператор“.

Шаг 2. ЛКМ “Запросы баланса“ (Рис. 6) → открывается вкладка “Запросы баланса” со списком заявок.

Шаг 3. ЛКМ “Создать запрос“ (Рис. 7)

Шаг 4. В поле “Тип“ выбрать “Снятие“, заполнить поле “Сумма“, “Криптоадрес USDT TRC20”, поле “Вы получите“ заполнится автоматически с учетом комисии за газ “3 USDT“ (Рис. 8).

Шаг 5. ЛКМ “Сохранить“. Открывается вкладка “Запрос баланса“ (Рис. 9). В телеграм должно придти уведомление о новом запросе (Рис. 12). Перейдя по ссылке в сообщении, открывается “Запрос баланса“(Рис. 11).

 --- 

## <a id="title17">Информация о заявке</a>

При нажатии на “ID“ или “Стрелка“ (Рис. 11) → открывается вкладка “Запрос баланса” выбранной заявки (Рис. 12).

 --- 

# <a id="title18">Телеграм бот</a>
## <a id="title19">Активация телеграм бота</a>
Шаг 1. Авторизоваться с ролью “Мерчант“.

Шаг 2. ЛКМ “Телеграм Бот“ (Рис. 1) → открывается вкладка “Редактировать профиль“.

Шаг 3. Перейти по ссылке (Рис. 2) → ЛКМ  “OPEN IN WEB“ → В чате с ботом нажимаем “START“ → телеграм-бот активирован в вашем аккаунте.

Шаг 4. Заполнить “Имя пользователя“ без символа “@“ (Рис. 3).

Шаг 5. ЛКМ “Сохранить“. Появляется сообщение “Профиль успешно обновлен“ (Рис. 4).

Если появляется ошибка (Рис. 5) → Вы не прошли “Шаг 3“.

 --- 

# <a id="title20">Арбитражи по чеку</a>

Скоро добавим.

 --- 

# <a id="title21">Менеджеры</a>

## <a id="title22">Описание раздела</a>

При открытии раздела, у нас появляются список “Менеджеры“ (Рис. 7) который пополняется при создании (См. [Создание менеджера](#title23)).

При нажатии на “ID“ и значок “Лупа“ (Рис. 8) можно отредактировать созданного менеджера (Рис. 9).

При нажатии на значок “Корзина“ (Рис. 10) можно удалить созданного менеджера (Безвозвратно).

 --- 

## <a id="title23">Создание менеджера</a>

Шаг 1. Авторизоваться с ролью “Мерчант“. 

Шаг 2. ЛКМ “Менеджеры“ (Рис. 1).

Шаг 3. ЛКМ “+Добавить менеджера“ (Рис. 2).

Шаг 4. Заполнить все обязательные поля (Обозначаются красной звездочкой “Рис. 3“), такие как “Email“, “Пароль“, “Подтверждение пароля“. Здесь создаются входные данные.

Если активировать чекбоксы (Рис. 4) “Создать платеж“, “Запросы баланса“, “Отображение баланса“, тогда назначаются дополнительные возможности для менеджера (Рис. 5).

Шаг 5. ЛКМ “Применить”. Появляется уведомление “Запись успешно создана”, аккаунт создан и отображается в списке “Менеджеры“ (Рис. 6).

 --- 

# <a id="title24">API</a>

Все API - методы нашего сервиса задокументированы в [Swagger UI](https://ppsand.esokolov.com/api-docs/index.html). Все методы работают только с авторизованным API - ключом.

 --- 

## <a id="title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a>

Шаг 1. Авторизоваться с ролью “Мерчант“.

Шаг 2. Зайти в “Настройки мерчанта” (Рис. 1)

Шаг 3. Скопировать API - ключ (Рис. 2)

Шаг 4. Авторизоваться в [Swagger UI](https://ppsand.esokolov.com/api-docs/index.html).

Шаг 5. ЛКМ “Authorize“ (Рис. 3)

Шаг 6. Вставить ключ в поле “Value:“ (Рис. 4)

Если “Замки“ на методах станут черными и закроются, значит авторизация API - ключа выполнена успешно (Рис. 5).

 --- 

## <a id="title25">Общие методы</a>

### <a id="title25.1">Запрос текущего баланса</a>

*Предусловие. Выполнить авторизацию (См. [Где находится API - ключ и как его авторизовать в Swagger UI?](#title24.1)).*

Для получения информация по текущему балансу нужно, отправить GET-запрос: **https://ppsand.esokolov.com/api/v1/balance**.

Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.

Шаг 2. ЛКМ “Try it out” (Рис. 2)

Шаг 3. ЛКМ “Execute“.

В “Response body” будет отображаться информация о балансе и код состояния ответа, в данном случае: “200 ОК” (Рис. 3).

 --- 

## <a id="title26">Платежи - H2H (Оплата на стороне магазина)</a>

### <a id="title26.1">Создание депозита с внешним процессингом</a>

*Предусловие.* 
- *Выполнить авторизацию (См. [Где находится API - ключ и как его авторизовать в Swagger UI?](#title24.1));*
- *Должно быть активно объявление на “Депозит“.*

Для создания депозита нужно отправить POST- запрос: **https://ppsand.esokolov.com/api/v1/external_processing/payments/deposits**.

Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.

Шаг 2. ЛКМ “Try it out“ (Рис. 2).

Шаг 3. Заполнить все поля в “Request body“ (Рис. 3).

*Обязательные поля:*
- ***national_currency***
- ***national_currency_amount***
- ***callback_url***

*Следует обратить внимание на необязательный параметр “payment system“ (Рис. 4). Если поле “payment system“ не заполнено, тогда будет подобрано объявление со случайной платёжной системой.*

*Пример тела запроса:*  
***“{***  
    ***"national_currency": "RUB",***  
    ***"payment_system": "Sberbank",***  
    ***"national_currency_amount": 10150,***  
    ***"external_order_id": "123451",***  
    ***"callback_url": "https://example.com/callback_url"***  
    ***}”***

Шаг 4. ЛКМ “Execute“.

Если все сделано правильно, тогда тело ответа будет таким: Статус “201 ОК” (Рис. 5). В данном случае (H2H) вы получаете уже созданный платёж в статусе “Перевод денег”.

 --- 

### <a id="title26.2">Создание чека платежа с внешним процессингом</a>
Скоро добавим.

 --- 

### <a id="title26.3">Обновление статуса платежа с внешним процессингом</a>
Скоро добавим.

 --- 

### <a id="title26.4">Создание вывода с внешним процессингом</a>

*Предусловие.* 
- *Выполнить авторизацию (См. [Где находится API - ключ и как его авторизовать в Swagger UI?](#title24.1));*
- *Должно быть активно объявление на “Вывод“ (см. “Оператор“ раздел “Объявления“).*

Для создания вывода нужно отправить POST- запрос: **https://ppsand.esokolov.com/api/v1/external_processing/payments/withdrawals**.

Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.

Шаг 2. ЛКМ “Try it out“ (Рис. 2).

Шаг 3. Заполнить все поля в “Request body“ (Рис. 3).


*Обязательные поля:*
- ***card_number***
- ***national_currency***
- ***national_currency_amount***
- ***callback_url***

*Следует обратить внимание на необязательный параметр “payment system“ (Рис. 4). Если поле “payment system“ не заполнено, тогда будет подобрано объявление со случайной платёжной системой.*

*Пример тела запроса:*  
***“{***  
    ***"payment_system": "Sberbank",***  
    ***"card_number": "1234 5678 9012 3456",***  
    ***"national_currency": RUB,***  
    ***"national_currency_amount": 3000,***  
    ***"expiration_card_date": "07/24",***  
    ***"external_order_id": "1234",***  
    ***"callback_url": "https://example.com/callback_url"***  
    ***}”***

Шаг 4. ЛКМ “Execute“.

Если все сделано правильно, тогда тело ответа будет таким: Статус “201 ОК” (Рис. 5). В данном случае (H2H) вы получаете уже созданный платёж в статусе “Перевод денег”.

 --- 

## <a id="title27">Платежные методы</a>

### <a id="title27.1">Запрос текущих платежных методов</a>

*Предусловие. Выполнить авторизацию (См. [Где находится API - ключ и как его авторизовать в Swagger UI?](#title24.1)).*

Для получения информация о доступных платежных методах “Мерчанта“ нужно отправить: **GET-запрос:https://ppsand.esokolov.com/api/v1/merchant_methods**.

Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.

Шаг 2. ЛКМ “Try it out” (Рис. 2)

Шаг 3. ЛКМ “Execute“.

В “Response body” будет отображаться информация о платежных методах, тело ответа будет таким: Статус “200 ОК” (Рис. 3).

Чтобы отсортировать платежные методы, достаточно заполнить поля “National currency” и ”Payment system“ (Рис. 4).

*Пример заполнения параметров:*
- ***National currency: "RUB"***
- ***Payment_system: "Sberbank"***

 --- 

## <a id="title28">Платежи - HPP (оплата с переходом по ссылке на наш сайт)</a>
### <a id="title28.1">Создание депозита</a>

*Предусловие. Выполнить авторизацию (См. [Где находится API - ключ и как его авторизовать в Swagger UI?](#title24.1)).*

Чтобы отправить запрос на создание депозита нужно отправить POST-запрос: **https://ppsand.esokolov.com/api/v1/payments/deposits**.

Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.

Шаг 2. ЛКМ “Try it out“ (Рис. 2).

Шаг 3. Заполнить обязательные поля в “Request body“ (Рис. 3).

*Обязательные поля:*
- ***national_currency*** - национальная валюта, которая будет использована для депозита (RUB, UZS, TJS, IDR, KZT, UAH, TRY, UAH, KGS, AZN);
- ***national_currency_amount*** - сумма платежа;
- ***redirect_url*** - ссылка, по которой клиент вернётся в магазин после оплаты;
- ***callback_url*** - ссылка обратного вызова. Если статус платежа изменился, будет направлен запрос для обновления статуса платежа.

*Пример тела запроса:*  
***“{***    
    ***"national_currency": "RUB",***  
    ***"national_currency_amount": 3567,***   
    ***"external_order_id": "1234",*** 
    ***"locale": "",***
    ***"redirect_url": "https://example.com/redirect_url"***
    ***"callback_url": "https://example.com/callback_url"***  
    ***}”***

Шаг 4. ЛКМ “Execute“.

Если все сделано правильно, тогда тело ответа будет таким : Статус “201 ОК” (Рис. 4). Также, в теле ответа вы получите следующие атрибуты: “uuid“ и “url“ (Рис. 5). Для продолжения работы с платежом, нужно скопировать “url“ и вставить в браузер (Рис. 6).

 --- 

### <a id="title28.2">Создание вывода средств</a>

*Предусловие. Выполнить авторизацию (См. [Где находится API - ключ и как его авторизовать в Swagger UI?](#title24.1)).*

Чтобы отправить запрос на создание выводы нужно отправить POST-запрос: **https://ppsand.esokolov.com/api/v1/payments/withdrawals**.

Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.

Шаг 2. ЛКМ “Try it out“ (Рис. 2).

Шаг 3. Заполнить обязательные поля в “Request body“ (Рис. 3).

*Обязательные поля:*
- ***national_currency*** - национальная валюта, которая будет использована для депозита (RUB, UZS, TJS, IDR, KZT, UAH, TRY, UAH, KGS, AZN);
- ***national_currency_amount*** - сумма платежа;
- ***redirect_url*** - ссылка, по которой клиент вернётся в магазин после оплаты;
- ***callback_url*** - ссылка обратного вызова. Если статус платежа изменился, будет направлен запрос для обновления статуса платежа.

*Пример тела запроса:*  
***“{***    
    ***"national_currency": "RUB",***  
    ***"national_currency_amount": 3666,***   
    ***"external_order_id": "",*** 
    ***"locale": "",***
    ***"redirect_url": "https://example.com/redirect_url"***
    ***"callback_url": "https://example.com/callback_url"***  
    ***}”***

Шаг 4. ЛКМ “Execute“. 

Если все сделано правильно, тогда тело ответа будет таким : Статус “201 ОК” (Рис. 4). Также, в теле ответа вы получите следующие атрибуты: “uuid“ и “url“ (Рис. 5). Для продолжения работы с платежом, нужно скопировать “url“ и вставить в браузер (Рис. 6).

 ---

## <a id="title29">Платежи - H2H, HPP</a>

### <a id="title29.1">Получение информации по платежу</a>

*Предусловие. Выполнить авторизацию (См. [Где находится API - ключ и как его авторизовать в Swagger UI?](#title24.1)).*

Для получения информации по платежу нужно отправить GET-запрос: **https://ppsand.esokolov.com/api/v1/payments/{uuid}**.

Скоро добавим.
