<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Your awesome title | Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Your awesome title" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://0.0.0.0:4000/" />
<meta property="og:url" content="http://0.0.0.0:4000/" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Your awesome title" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Your awesome title","name":"Your awesome title","url":"http://0.0.0.0:4000/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/feed.xml" title="Your awesome title" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Your awesome title</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home"><h1 id="оглавление">Оглавление</h1>
<p><strong><a href="#title1">Общая информация</a></strong></p>

<p><a href="#title2">Как внести средства на платформу?</a></p>

<p><a href="#title3">Какой курс валют мы используем?</a></p>

<p><a href="#title4">Flow процессинга</a></p>

<p><a href="#title5">Аббревиатура</a></p>

<p><strong><a href="#title6">Профиль</a></strong></p>

<p><a href="#title7">Навигация в профиле</a></p>

<p><strong><a href="#title8">Все платежи</a></strong></p>

<p><a href="#title9">Экспорт платежей в Excel</a></p>

<p><a href="#title10">Информация о платеже</a></p>

<p><a href="#title11">Как оспорить платеж?</a></p>

<p><strong><a href="#title12">Создать оплату</a></strong></p>

<p><a href="#title13">Процесс создания платежа</a></p>

<p><strong><a href="#title14">Запросы баланса</a></strong></p>

<p><a href="#title15">Создание запроса на депозит</a></p>

<p><a href="#title16">Создание запроса на вывод</a></p>

<p><a href="#title17">Информация о заявке</a></p>

<p><strong><a href="#title18">Телеграм бот</a></strong></p>

<p><a href="#title19">Активация телеграм бота</a></p>

<p><strong><a href="#title20">Арбитражи по чеку</a></strong></p>

<p><strong><a href="#title21">Менеджеры</a></strong></p>

<p><a href="#title22">Описание раздела</a></p>

<p><a href="#title23">Создание менеджера</a></p>

<p><strong><a href="#title24">API</a></strong></p>

<p><a href="#title25">Общие методы</a></p>

<p><a href="#title26">Платежи - H2H (Оплата на стороне магазина)</a></p>

<p><a href="#title27">Платежные методы</a></p>

<p><a href="#title28">Платежи - HPP (оплата с переходом по ссылке на наш сайт)</a></p>

<p><a href="#title29">Платежи - H2H, HPP)</a></p>

<hr />

<h1 id="общая-информация"><a id="title1">Общая информация</a></h1>

<p>Мы используем токен Tether “USDT (TRC20)” функционирующий на блокчейне “Tron”.</p>

<p><em>Если у вас фиатный баланс на платформе, то вам необходимо написать нам в чат (в поддержку), для обсуждения процесса вывода средств. Вывод происходит по оговоренным между нами условиям.</em></p>

<hr />
<h2 id="как-внести-средства-на-платформу"><a id="title2">Как внести средства на платформу?</a></h2>

<p>Для начала работы (См. <a href="#title14">Запросы баланса</a>).</p>

<hr />

<h2 id="какой-курс-валют-мы-используем"><a id="title3">Какой курс валют мы используем?</a></h2>

<p>В нашей системе курсы валют собираются несколько раз в 10 минут - для всех гео курсы берутся с “Binance P2P”, “Bybit”. 
Пример просмотра курса валюты с помощью API. (См. <a href="#title27">Платежные методы</a>).</p>

<p>Обратите внимание на то, как пишутся национальные валюты и платёжные системы:</p>
<ul>
  <li>Пример национальных валют: RUB, UZS, TJS, IDR и т.д.</li>
  <li>Пример платёжных систем: Sberbank, Tinkoff, Raiffeisen, СБП, AlfaBank, HUMO и т.д.</li>
</ul>

<hr />

<h2 id="flow-процессинга"><a id="title4">Flow процессинга</a></h2>

<p>У нас на платформе платёж можно создать через H2H интеграцию, через HPP или вручную.</p>

<p>Если вы хотите протестировать процесс и понять как все работает не используя реальных средств, то вы можете использовать для этого “Тестовое окружение”. При подключении предоставляется тестовый домен. (Авторизационные данные можно получить у руководителя сервиса или администратора).<br />
Инструкция по оплате (См. <a href="#title13">Процесс создания платежа</a>).</p>

<hr />

<h2 id="аббревиатура"><a id="title5">Аббревиатура</a></h2>
<p>ЛКМ - подразумевается, нажатие левой кнопки мыши.</p>

<p>ПКМ - подразумевается, нажатие правой кнопки мыши.</p>

<hr />

<h1 id="профиль"><a id="title6">Профиль</a></h1>

<h2 id="навигация-в-профиле"><a id="title7">Навигация в профиле</a></h2>

<p>Разделы (Рис. 1)</p>

<p>“Баланс” - который изменяется при снятии или внесении валюты, USDT* (Рис. 2)<br />
“Заморожено“ - сколько средств заблокировано и недоступно к выводу, USDT* (Рис. 2)</p>

<p>“Техническое название пользователя” (Рис. 3)</p>

<p>“Роль” под которой выполнен вход (Рис. 4)</p>

<p>“Email” (Рис. 5)</p>

<p>Иконка человека (Рис. 6) отвечает за профиль, при нажатии на который открываются настройки.</p>

<p>В настройках профиля отображаются следующие поля (Рис. 7):</p>
<ul>
  <li><strong>Техническое название пользователя</strong> - имеет обычное текстовое поле.</li>
  <li>Кнопка <strong>“Обновить”</strong> - служит для обновления тех. названия мерчанта. При заполнении поля “Техническое название пользователя” и нажатии “Обновить“, название обновляется;</li>
  <li><strong>Часовой пояс</strong> - имеет поле с выпадающим списком. Чтобы изменить часовой пояс для этого, достаточно выбрать из списка нужный город и часовой пояс автоматически сохранится.</li>
  <li><strong>API-ключ</strong> - нужен для авторизации в API-документации, ссылка: <a href="https://ppsand.esokolov.com/api-docs/index.html">Swagger</a>;</li>
</ul>

<p>Чтобы выйти из аккаунта, достаточно нажать на иконку (Рис. 8)</p>

<hr />

<h1 id="все-платежи"><a id="title8">Все платежи</a></h1>

<p>При открытии раздела, открывается вкладка с статистикой “За сегодня“, “За всё время“, вкладка с фильтрами и списком всех платежей (Рис. 1).</p>

<p>Чтобы отсортировать список платежей:</p>

<p>Шаг 1. Заполнить интересующие поля (Рис. 2).</p>

<p>Шаг 2. ЛКМ “Применить” (Рис. 3). Список отсортирован по заданным параметрам (Рис. 4).</p>

<p>При нажатии на “Сброс“ (Рис. 5) фильтры сбрасываются. При обновлении страницы - фильтры не сбрасываются, но если зайти в другой раздел и вернуться - фильтры сбрасываются.</p>

<hr />

<h2 id="экспорт-платежей-в-excel"><a id="title9">Экспорт платежей в Excel</a></h2>

<p><em>Предусловие: сбросить фильтры, после этого экспортировать файл.</em></p>

<p>Шаг 1. ЛКМ “Экспорт в Excel“ (Рис. 6). Файл начнет скачиваться.</p>

<p>Шаг 2. Открыть файл в загрузках (Рис. 7). Формат файла: табличный “.xlsx”.</p>

<hr />

<h2 id="информация-о-платеже"><a id="title10">Информация о платеже</a></h2>

<p>ЛКМ на “ID“ (Рис. 8). Откроется вкладка “Данные платежа“.</p>

<p>Статус платежа отображается в верхнем-левом углу (Рис. 9). В данном случае статус “Отменён“.</p>

<p>В поле “Чат” можно оставить сообщение (Рис. 10).</p>

<p>ЛКМ “Причина отмены“ (Рис. 11) → в выпадающем списке можно выбрать:</p>

<ul>
  <li>Отменено клиентом;</li>
  <li>Задублированный платеж;</li>
  <li>Попытка мошенничества;</li>
  <li>Переведенная клиентом сумма не соответствует запрошенной;</li>
  <li>Сумма не поступила.</li>
</ul>

<p>ЛКМ “Галочка“ (Рис. 12) → Причина отмены сохранена в системе.</p>

<hr />

<h3 id="как-оспорить-платеж"><a id="title11">Как оспорить платеж?</a></h3>

<p><em>Предусловие: Зайти в “Данные платежа”. (См. <a href="#title10">Информация о платеже</a>)</em></p>

<p>Шаг 1. ЛКМ “Выберите причину арбитража*“ (Рис. 13) → в выпадающем списке можно выбрать:</p>
<ul>
  <li>Проверка по чеку;</li>
  <li>Перевели неверную сумму, проверить по чеку.</li>
</ul>

<p>Шаг 2. ЛКМ “Загрузите чек*“ (Рис. 14) → в открытой папке выберите нужный скриншот или картинку которая находится на вашем ПК (Поддерживаемые форматы: “pdf“, “jpg“, “png“).</p>

<p>Шаг 3. ЛКМ “На арбитраж” (Рис. 15). Появляются новые статусы у платежа: “На арбитраже“ и “Причина арбитража“ (Рис. 16).</p>

<hr />

<h1 id="создать-оплату"><a id="title12">Создать оплату</a></h1>

<h2 id="процесс-создания-платежа"><a id="title13">Процесс создания платежа</a></h2>

<p>Шаг 1. Авторизация в системе под ролью “Мерчант“.</p>

<p>Шаг 2. Перейти во вкладку “Создать оплату“ (Рис. 1).</p>

<p>Шаг 3. Заполнить все обязательные поля (Обозначаются красной звездочкой “Рис. 2“), такие как “Номер заказа“, “Сумма“, “Валюта оплаты“, “Ссылка“. Здесь задаются данные для оплаты.</p>

<ul>
  <li><strong>Номер заказа (external_order_id)</strong> - это ваш ID, в вашей внутренней системе (это может быть: номер/численно-буквенная последовательность). Номер заказа позволяет вам легче найти платёж в нашей системе - это сделано для вашего удобства.</li>
  <li><strong>Сумма (national_currency_amount)</strong> - это та сумма, которую увидит ваш клиент внутри формы (формы при HPP).</li>
  <li><strong>Валюта оплаты (national_currency)</strong> - это та валюта, в которой будет платить ваш клиент. Клиенту будут отображаться платёжные методы, которые доступны при платежах в этой валюте.</li>
  <li><strong>Язык оплаты (locale)</strong> - у поддержки платформы можно попросить настроить нужные для отображения языки оплаты.</li>
</ul>

<p>Шаг 4. ЛКМ “Сохранить“ (Рис. 3). Открывается окно “Данные ссылки на внесение средств“ с ссылкой (Рис. 4).</p>

<p>Шаг 5. ЛКМ на иконку “Копирование“ (Рис. 5)</p>

<p>Шаг 6. Вставить ссылку в браузер. Рекомендуем переходить по ссылке в режиме “Инкогнито” в браузере (Чтобы снять авторизацию в системе “PPay”).</p>

<p>В режим “Инкогнито“ в браузере можно зайти: нажав на горячие клавиши “CTRL + SHIFT + N“ ИЛИ нажать на троеточие (Google Chrome) и выбрать “Новое окно в режиме инкогнито“ (Рис. 6).</p>

<p>После того как перешли по ссылке, появляется окно оплаты (Рис. 7). Если отсканировать QR-код, то можно продолжить процесс с телефона (Рис. 8). Чтобы отменить платеж, достаточно нажать на “Отменить платеж“ (Рис. 9).</p>

<p>Шаг 7. Выбрать платежную систему.</p>

<p>Шаг 8. ЛКМ “Подтвердить“ (Рис. 10).</p>

<p>Далее, открывается окно (Рис. 11). Время, за которое нужно успеть выполнить перевод, по стандарту “20:00 минут“ (Рис. 12).</p>

<p>Шаг 9. Выполнить перевод по предложенной карте.</p>

<p>Шаг 10. ЛКМ “Оплата завершена”. После чего, открывается окно с обработкой платежа “Рис. 13“.</p>

<p>Шаг 11. Оператор должен подтвердить оплату. Как только “Оператор” подтвердит оплату, страница с оплатой меняет статус “Идёт обработка” → “Успешно“ (Рис. 14).</p>

<hr />

<h1 id="запросы-баланса"><a id="title14">Запросы баланса</a></h1>
<h2 id="создание-запроса-на-депозит"><a id="title15">Создание запроса на депозит</a></h2>

<p><em>Предусловие. Активировать телеграм бота (<a href="#title19">Активация телеграм бота</a>).</em></p>

<p>Шаг 1. Авторизоваться с ролью “Мерчант“.</p>

<p>Шаг 2. ЛКМ “Запросы баланса“ (Рис. 1) → открывается вкладка “Запросы баланса”.</p>

<p>Шаг 3. ЛКМ “Создать запрос“ (Рис. 2)</p>

<p>Шаг 4. В поле “Тип“ выбрать “Внесение“, заполнить поле “Сумма“ (Рис. 3).</p>

<p>Шаг 5. ЛКМ “Сохранить“. Открывается вкладка “Запрос баланса“ (Рис. 4). В телеграм должно придти уведомление о новом запросе (Рис. 5). Перейдя по ссылке в сообщении, открывается “Запрос баланса“(Рис. 4).</p>

<hr />

<h2 id="создание-запроса-на-вывод"><a id="title16">Создание запроса на вывод</a></h2>
<p><em>Предусловие. Активировать телеграм бота (<a href="#title19">Активация телеграм бота</a>).</em></p>

<p>Шаг 1. Авторизоваться с ролью “Оператор“.</p>

<p>Шаг 2. ЛКМ “Запросы баланса“ (Рис. 6) → открывается вкладка “Запросы баланса” со списком заявок.</p>

<p>Шаг 3. ЛКМ “Создать запрос“ (Рис. 7)</p>

<p>Шаг 4. В поле “Тип“ выбрать “Снятие“, заполнить поле “Сумма“, “Криптоадрес USDT TRC20”, поле “Вы получите“ заполнится автоматически с учетом комисии за газ “3 USDT“ (Рис. 8).</p>

<p>Шаг 5. ЛКМ “Сохранить“. Открывается вкладка “Запрос баланса“ (Рис. 9). В телеграм должно придти уведомление о новом запросе (Рис. 12). Перейдя по ссылке в сообщении, открывается “Запрос баланса“(Рис. 11).</p>

<hr />

<h2 id="информация-о-заявке"><a id="title17">Информация о заявке</a></h2>

<p>При нажатии на “ID“ или “Стрелка“ (Рис. 11) → открывается вкладка “Запрос баланса” выбранной заявки (Рис. 12).</p>

<hr />

<h1 id="телеграм-бот"><a id="title18">Телеграм бот</a></h1>
<h2 id="активация-телеграм-бота"><a id="title19">Активация телеграм бота</a></h2>
<p>Шаг 1. Авторизоваться с ролью “Мерчант“.</p>

<p>Шаг 2. ЛКМ “Телеграм Бот“ (Рис. 1) → открывается вкладка “Редактировать профиль“.</p>

<p>Шаг 3. Перейти по ссылке (Рис. 2) → ЛКМ  “OPEN IN WEB“ → В чате с ботом нажимаем “START“ → телеграм-бот активирован в вашем аккаунте.</p>

<p>Шаг 4. Заполнить “Имя пользователя“ без символа “@“ (Рис. 3).</p>

<p>Шаг 5. ЛКМ “Сохранить“. Появляется сообщение “Профиль успешно обновлен“ (Рис. 4).</p>

<p>Если появляется ошибка (Рис. 5) → Вы не прошли “Шаг 3“.</p>

<hr />

<h1 id="арбитражи-по-чеку"><a id="title20">Арбитражи по чеку</a></h1>

<p>Скоро добавим.</p>

<hr />

<h1 id="менеджеры"><a id="title21">Менеджеры</a></h1>

<h2 id="описание-раздела"><a id="title22">Описание раздела</a></h2>

<p>При открытии раздела, у нас появляются список “Менеджеры“ (Рис. 7) который пополняется при создании (См. <a href="#title23">Создание менеджера</a>).</p>

<p>При нажатии на “ID“ и значок “Лупа“ (Рис. 8) можно отредактировать созданного менеджера (Рис. 9).</p>

<p>При нажатии на значок “Корзина“ (Рис. 10) можно удалить созданного менеджера (Безвозвратно).</p>

<hr />

<h2 id="создание-менеджера"><a id="title23">Создание менеджера</a></h2>

<p>Шаг 1. Авторизоваться с ролью “Мерчант“.</p>

<p>Шаг 2. ЛКМ “Менеджеры“ (Рис. 1).</p>

<p>Шаг 3. ЛКМ “+Добавить менеджера“ (Рис. 2).</p>

<p>Шаг 4. Заполнить все обязательные поля (Обозначаются красной звездочкой “Рис. 3“), такие как “Email“, “Пароль“, “Подтверждение пароля“. Здесь создаются входные данные.</p>

<p>Если активировать чекбоксы (Рис. 4) “Создать платеж“, “Запросы баланса“, “Отображение баланса“, тогда назначаются дополнительные возможности для менеджера (Рис. 5).</p>

<p>Шаг 5. ЛКМ “Применить”. Появляется уведомление “Запись успешно создана”, аккаунт создан и отображается в списке “Менеджеры“ (Рис. 6).</p>

<hr />

<h1 id="api"><a id="title24">API</a></h1>

<p>Все API - методы нашего сервиса задокументированы в <a href="https://ppsand.esokolov.com/api-docs/index.html">Swagger UI</a>. Все методы работают только с авторизованным API - ключом.</p>

<hr />

<h2 id="где-находится-api---ключ-и-как-его-авторизовать-в-swagger-ui"><a id="title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a></h2>

<p>Шаг 1. Авторизоваться с ролью “Мерчант“.</p>

<p>Шаг 2. Зайти в “Настройки мерчанта” (Рис. 1)</p>

<p>Шаг 3. Скопировать API - ключ (Рис. 2)</p>

<p>Шаг 4. Авторизоваться в <a href="https://ppsand.esokolov.com/api-docs/index.html">Swagger UI</a>.</p>

<p>Шаг 5. ЛКМ “Authorize“ (Рис. 3)</p>

<p>Шаг 6. Вставить ключ в поле “Value:“ (Рис. 4)</p>

<p>Если “Замки“ на методах станут черными и закроются, значит авторизация API - ключа выполнена успешно (Рис. 5).</p>

<hr />

<h2 id="общие-методы"><a id="title25">Общие методы</a></h2>

<h3 id="запрос-текущего-баланса"><a id="title25.1">Запрос текущего баланса</a></h3>

<p><em>Предусловие. Выполнить авторизацию (См. <a href="#title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a>).</em></p>

<p>Для получения информация по текущему балансу нужно, отправить GET-запрос: <strong>https://ppsand.esokolov.com/api/v1/balance</strong>.</p>

<p>Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.</p>

<p>Шаг 2. ЛКМ “Try it out” (Рис. 2)</p>

<p>Шаг 3. ЛКМ “Execute“.</p>

<p>В “Response body” будет отображаться информация о балансе и код состояния ответа, в данном случае: “200 ОК” (Рис. 3).</p>

<hr />

<h2 id="платежи---h2h-оплата-на-стороне-магазина"><a id="title26">Платежи - H2H (Оплата на стороне магазина)</a></h2>

<h3 id="создание-депозита-с-внешним-процессингом"><a id="title26.1">Создание депозита с внешним процессингом</a></h3>

<p><em>Предусловие.</em></p>
<ul>
  <li><em>Выполнить авторизацию (См. <a href="#title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a>);</em></li>
  <li><em>Должно быть активно объявление на “Депозит“.</em></li>
</ul>

<p>Для создания депозита нужно отправить POST- запрос: <strong>https://ppsand.esokolov.com/api/v1/external_processing/payments/deposits</strong>.</p>

<p>Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.</p>

<p>Шаг 2. ЛКМ “Try it out“ (Рис. 2).</p>

<p>Шаг 3. Заполнить все поля в “Request body“ (Рис. 3).</p>

<p><em>Обязательные поля:</em></p>
<ul>
  <li><strong><em>national_currency</em></strong></li>
  <li><strong><em>national_currency_amount</em></strong></li>
  <li><strong><em>callback_url</em></strong></li>
</ul>

<p><em>Следует обратить внимание на необязательный параметр “payment system“ (Рис. 4). Если поле “payment system“ не заполнено, тогда будет подобрано объявление со случайной платёжной системой.</em></p>

<p><em>Пример тела запроса:</em><br />
<strong><em>“{</em></strong><br />
    <strong><em>“national_currency”: “RUB”,</em></strong><br />
    <strong><em>“payment_system”: “Sberbank”,</em></strong><br />
    <strong><em>“national_currency_amount”: 10150,</em></strong><br />
    <strong><em>“external_order_id”: “123451”,</em></strong><br />
    <strong><em>“callback_url”: “https://example.com/callback_url”</em></strong><br />
    <strong><em>}”</em></strong></p>

<p>Шаг 4. ЛКМ “Execute“.</p>

<p>Если все сделано правильно, тогда тело ответа будет таким: Статус “201 ОК” (Рис. 5). В данном случае (H2H) вы получаете уже созданный платёж в статусе “Перевод денег”.</p>

<hr />

<h3 id="создание-чека-платежа-с-внешним-процессингом"><a id="title26.2">Создание чека платежа с внешним процессингом</a></h3>
<p>Скоро добавим.</p>

<hr />

<h3 id="обновление-статуса-платежа-с-внешним-процессингом"><a id="title26.3">Обновление статуса платежа с внешним процессингом</a></h3>
<p>Скоро добавим.</p>

<hr />

<h3 id="создание-вывода-с-внешним-процессингом"><a id="title26.4">Создание вывода с внешним процессингом</a></h3>

<p><em>Предусловие.</em></p>
<ul>
  <li><em>Выполнить авторизацию (См. <a href="#title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a>);</em></li>
  <li><em>Должно быть активно объявление на “Вывод“ (см. “Оператор“ раздел “Объявления“).</em></li>
</ul>

<p>Для создания вывода нужно отправить POST- запрос: <strong>https://ppsand.esokolov.com/api/v1/external_processing/payments/withdrawals</strong>.</p>

<p>Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.</p>

<p>Шаг 2. ЛКМ “Try it out“ (Рис. 2).</p>

<p>Шаг 3. Заполнить все поля в “Request body“ (Рис. 3).</p>

<p><em>Обязательные поля:</em></p>
<ul>
  <li><strong><em>card_number</em></strong></li>
  <li><strong><em>national_currency</em></strong></li>
  <li><strong><em>national_currency_amount</em></strong></li>
  <li><strong><em>callback_url</em></strong></li>
</ul>

<p><em>Следует обратить внимание на необязательный параметр “payment system“ (Рис. 4). Если поле “payment system“ не заполнено, тогда будет подобрано объявление со случайной платёжной системой.</em></p>

<p><em>Пример тела запроса:</em><br />
<strong><em>“{</em></strong><br />
    <strong><em>“payment_system”: “Sberbank”,</em></strong><br />
    <strong><em>“card_number”: “1234 5678 9012 3456”,</em></strong><br />
    <strong><em>“national_currency”: RUB,</em></strong><br />
    <strong><em>“national_currency_amount”: 3000,</em></strong><br />
    <strong><em>“expiration_card_date”: “07/24”,</em></strong><br />
    <strong><em>“external_order_id”: “1234”,</em></strong><br />
    <strong><em>“callback_url”: “https://example.com/callback_url”</em></strong><br />
    <strong><em>}”</em></strong></p>

<p>Шаг 4. ЛКМ “Execute“.</p>

<p>Если все сделано правильно, тогда тело ответа будет таким: Статус “201 ОК” (Рис. 5). В данном случае (H2H) вы получаете уже созданный платёж в статусе “Перевод денег”.</p>

<hr />

<h2 id="платежные-методы"><a id="title27">Платежные методы</a></h2>

<h3 id="запрос-текущих-платежных-методов"><a id="title27.1">Запрос текущих платежных методов</a></h3>

<p><em>Предусловие. Выполнить авторизацию (См. <a href="#title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a>).</em></p>

<p>Для получения информация о доступных платежных методах “Мерчанта“ нужно отправить: <strong>GET-запрос:https://ppsand.esokolov.com/api/v1/merchant_methods</strong>.</p>

<p>Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.</p>

<p>Шаг 2. ЛКМ “Try it out” (Рис. 2)</p>

<p>Шаг 3. ЛКМ “Execute“.</p>

<p>В “Response body” будет отображаться информация о платежных методах, тело ответа будет таким: Статус “200 ОК” (Рис. 3).</p>

<p>Чтобы отсортировать платежные методы, достаточно заполнить поля “National currency” и ”Payment system“ (Рис. 4).</p>

<p><em>Пример заполнения параметров:</em></p>
<ul>
  <li><strong><em>National currency: “RUB”</em></strong></li>
  <li><strong><em>Payment_system: “Sberbank”</em></strong></li>
</ul>

<hr />

<h2 id="платежи---hpp-оплата-с-переходом-по-ссылке-на-наш-сайт"><a id="title28">Платежи - HPP (оплата с переходом по ссылке на наш сайт)</a></h2>
<h3 id="создание-депозита"><a id="title28.1">Создание депозита</a></h3>

<p><em>Предусловие. Выполнить авторизацию (См. <a href="#title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a>).</em></p>

<p>Чтобы отправить запрос на создание депозита нужно отправить POST-запрос: <strong>https://ppsand.esokolov.com/api/v1/payments/deposits</strong>.</p>

<p>Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.</p>

<p>Шаг 2. ЛКМ “Try it out“ (Рис. 2).</p>

<p>Шаг 3. Заполнить обязательные поля в “Request body“ (Рис. 3).</p>

<p><em>Обязательные поля:</em></p>
<ul>
  <li><strong><em>national_currency</em></strong> - национальная валюта, которая будет использована для депозита (RUB, UZS, TJS, IDR, KZT, UAH, TRY, UAH, KGS, AZN);</li>
  <li><strong><em>national_currency_amount</em></strong> - сумма платежа;</li>
  <li><strong><em>redirect_url</em></strong> - ссылка, по которой клиент вернётся в магазин после оплаты;</li>
  <li><strong><em>callback_url</em></strong> - ссылка обратного вызова. Если статус платежа изменился, будет направлен запрос для обновления статуса платежа.</li>
</ul>

<p><em>Пример тела запроса:</em><br />
<strong><em>“{</em></strong>  <br />
    <strong><em>“national_currency”: “RUB”,</em></strong><br />
    <strong><em>“national_currency_amount”: 3567,</em></strong> <br />
    <strong><em>“external_order_id”: “1234”,</em></strong> 
    <strong><em>“locale”: “”,</em></strong>
    <strong><em>“redirect_url”: “https://example.com/redirect_url”</em></strong>
    <strong><em>“callback_url”: “https://example.com/callback_url”</em></strong><br />
    <strong><em>}”</em></strong></p>

<p>Шаг 4. ЛКМ “Execute“.</p>

<p>Если все сделано правильно, тогда тело ответа будет таким : Статус “201 ОК” (Рис. 4). Также, в теле ответа вы получите следующие атрибуты: “uuid“ и “url“ (Рис. 5). Для продолжения работы с платежом, нужно скопировать “url“ и вставить в браузер (Рис. 6).</p>

<hr />

<h3 id="создание-вывода-средств"><a id="title28.2">Создание вывода средств</a></h3>

<p><em>Предусловие. Выполнить авторизацию (См. <a href="#title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a>).</em></p>

<p>Чтобы отправить запрос на создание выводы нужно отправить POST-запрос: <strong>https://ppsand.esokolov.com/api/v1/payments/withdrawals</strong>.</p>

<p>Шаг 1. ЛКМ на метод (Рис. 1). Открывается выпадающее окно.</p>

<p>Шаг 2. ЛКМ “Try it out“ (Рис. 2).</p>

<p>Шаг 3. Заполнить обязательные поля в “Request body“ (Рис. 3).</p>

<p><em>Обязательные поля:</em></p>
<ul>
  <li><strong><em>national_currency</em></strong> - национальная валюта, которая будет использована для депозита (RUB, UZS, TJS, IDR, KZT, UAH, TRY, UAH, KGS, AZN);</li>
  <li><strong><em>national_currency_amount</em></strong> - сумма платежа;</li>
  <li><strong><em>redirect_url</em></strong> - ссылка, по которой клиент вернётся в магазин после оплаты;</li>
  <li><strong><em>callback_url</em></strong> - ссылка обратного вызова. Если статус платежа изменился, будет направлен запрос для обновления статуса платежа.</li>
</ul>

<p><em>Пример тела запроса:</em><br />
<strong><em>“{</em></strong>  <br />
    <strong><em>“national_currency”: “RUB”,</em></strong><br />
    <strong><em>“national_currency_amount”: 3666,</em></strong> <br />
    <strong><em>“external_order_id”: “”,</em></strong> 
    <strong><em>“locale”: “”,</em></strong>
    <strong><em>“redirect_url”: “https://example.com/redirect_url”</em></strong>
    <strong><em>“callback_url”: “https://example.com/callback_url”</em></strong><br />
    <strong><em>}”</em></strong></p>

<p>Шаг 4. ЛКМ “Execute“.</p>

<p>Если все сделано правильно, тогда тело ответа будет таким : Статус “201 ОК” (Рис. 4). Также, в теле ответа вы получите следующие атрибуты: “uuid“ и “url“ (Рис. 5). Для продолжения работы с платежом, нужно скопировать “url“ и вставить в браузер (Рис. 6).</p>

<hr />

<h2 id="платежи---h2h-hpp"><a id="title29">Платежи - H2H, HPP</a></h2>

<h3 id="получение-информации-по-платежу"><a id="title29.1">Получение информации по платежу</a></h3>

<p><em>Предусловие. Выполнить авторизацию (См. <a href="#title24.1">Где находится API - ключ и как его авторизовать в Swagger UI?</a>).</em></p>

<p>Для получения информации по платежу нужно отправить GET-запрос: <strong>https://ppsand.esokolov.com/api/v1/payments/{uuid}</strong>.</p>

<p>Скоро добавим.</p>
<h2 class="post-list-heading">Posts</h2>
    <ul class="post-list"><li><span class="post-meta">Dec 27, 2023</span>
        <h3>
          <a class="post-link" href="/jekyll/update/2023/12/27/welcome-to-jekyll.html">
            Welcome to Jekyll!
          </a>
        </h3></li></ul>

    <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p></div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Your awesome title</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Your awesome title</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
